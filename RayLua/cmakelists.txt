cmake_minimum_required(VERSION 3.16)
project(raylib_lua_imgui C)

set(CMAKE_C_STANDARD 11)

include(FetchContent)

# Fetch raylib
FetchContent_Declare(raylib
        URL https://github.com/raysan5/raylib/archive/refs/tags/5.0.tar.gz
)
FetchContent_MakeAvailable(raylib)

# Fetch rlImGui
FetchContent_Declare(rlimgui
        URL https://github.com/raylib-extras/rlImGui/archive/refs/heads/main.zip
)
FetchContent_MakeAvailable(rlimgui)

# Add LuaJIT subdirectory
add_subdirectory(luajit)

add_executable(game main.c)
target_link_libraries(game raylib rlimgui luajit_static)
target_include_directories(game PRIVATE
        ${rlimgui_SOURCE_DIR}
        ${CMAKE_CURRENT_SOURCE_DIR}/luajit/src
)

configure_file(script.lua ${CMAKE_CURRENT_BINARY_DIR}/script.lua COPYONLY)
